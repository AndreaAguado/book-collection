(this["webpackJsonpreact-starter-kit"]=this["webpackJsonpreact-starter-kit"]||[]).push([[0],{23:function(e,t,n){},24:function(e,t,n){},26:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),o=n(16),s=n.n(o),i=n(7),r=n(8),l=n(10),d=(n(23),n(24),n(0)),j=function(){return Object(d.jsxs)("footer",{className:"footer",children:[Object(d.jsx)("nav",{className:"footer_nav",children:Object(d.jsxs)("ul",{className:"footer_links_list",children:[Object(d.jsx)("li",{children:Object(d.jsx)("a",{className:"footer_link",href:"https://twitter.com/andrea114am",target:"_blank",rel:"noreferrer",title:"twitter.com/andrea114am",children:Object(d.jsx)("i",{className:"fab fa-twitter"})})}),Object(d.jsx)("li",{children:Object(d.jsx)("a",{className:"footer_link",href:"https://www.linkedin.com/in/andrea-aguado-moleon/",target:"_blank",rel:"noreferrer",title:"linkedin.com/in/andrea-aguado-mole\xf3n/",children:Object(d.jsx)("i",{className:"fab fa-linkedin-in"})})}),Object(d.jsx)("li",{children:Object(d.jsx)("a",{className:"footer_link",href:"https://github.com/AndreaAguado",target:"_blank",rel:"noreferrer",title:"github.com/AndreaAguado",children:Object(d.jsx)("i",{className:"fab fa-github"})})})]})}),Object(d.jsxs)("small",{className:"footer_small",children:["Hecho con ",Object(d.jsx)("span",{role:"img","aria-label":"emoji coraz\xf3n",title:"emoji coraz\xf3n",children:"\u2764\ufe0f"})," \xa9 Andrea Aguado 2021"]})]})},b=(n(26),n.p+"static/media/header_logo.dc8596ab.png"),u=function(){return Object(d.jsxs)("header",{className:"header",children:[Object(d.jsx)(i.b,{to:"/",className:"header_link",title:"Go to homepage",children:Object(d.jsx)("img",{className:"header_logo",src:b,alt:"header logo"})}),Object(d.jsx)("h1",{className:"header_title",children:"Book Collection"})]})},h=(n(32),n(33),{getAllBooks:function(){return fetch("/books").then((function(e){return e.json()})).then((function(e){return console.log(e),e.map((function(e){return{id:e.id,title:e.name}}))}))},getBookById:function(e){return fetch("/book/".concat(e)).then((function(e){return e.json()})).then((function(e){return{id:e.id,title:e.name,author:"".concat(e.author.first_name," ").concat(e.author.last_name),isbn:e.isbn}}))},addNewBook:function(e){return console.log(JSON.stringify(e)),fetch("/book",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return console.log(e),e}))},updateBook:function(e,t){return fetch("/book/".concat(e),{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return console.log(e),e}))}}),m=function(e){var t=function(t){e.handleInput(t.currentTarget.value,t.currentTarget.name)},n=Object(a.useState)(!1),c=Object(l.a)(n,2),o=c[0],s=c[1];return Object(d.jsxs)("form",{className:"form",method:"POST",onSubmit:function(e){return e.preventDefault()},children:[Object(d.jsxs)("label",{htmlFor:"name",children:["Title ",Object(d.jsx)("span",{className:"form_asterisk",children:"*"})]}),Object(d.jsx)("input",{onChange:t,type:"text",placeholder:"Romeo and Juliet",name:"name",id:"name",required:!0}),Object(d.jsxs)("label",{htmlFor:"first_name",children:["Author's first name ",Object(d.jsx)("span",{className:"form_asterisk",children:"*"})]}),Object(d.jsx)("input",{onChange:t,type:"text",placeholder:"William",name:"first_name",id:"first_name",required:!0}),Object(d.jsxs)("label",{htmlFor:"last_name",children:["Author's last name ",Object(d.jsx)("span",{className:"form_asterisk",children:Object(d.jsx)("span",{className:"form_asterisk",children:"*"})})]}),Object(d.jsx)("input",{onChange:t,type:"text",placeholder:"Shakespeare",name:"last_name",id:"last_name",required:!0}),Object(d.jsxs)("label",{htmlFor:"isbn",children:["ISBN ",Object(d.jsx)("span",{className:"form_asterisk",children:"*"})]}),Object(d.jsx)("input",{onChange:t,type:"text",placeholder:"978-1451552058",name:"isbn",id:"isbn",required:!0}),Object(d.jsx)("input",{className:"submit",onClick:function(t){if("add_book"===t.currentTarget.id)console.log(e.data),h.addNewBook(e.data).then((function(e){s(e.success),console.log(o)}));else if("update_book"===t.currentTarget.id){console.log(e.dataId),console.log(e.data);var n=e.data;n.id=e.dataId,console.log(n),h.updateBook(parseInt(e.dataId),n).then((function(e){console.log(e)}))}},type:"submit",value:"Submit",id:e.id})]})},f=(n(34),function(e){return Object(d.jsxs)("section",{id:e.id,className:"".concat(e.classname," section"),children:[Object(d.jsx)("h2",{className:"section_title",children:e.section_name}),e.children]})}),O=function(e){return Object(d.jsxs)("main",{className:"main",children:[Object(d.jsx)(f,{classname:"titles",section_name:"Titles",children:Object(d.jsx)("ul",{children:e.renderBooksList()})}),Object(d.jsx)(f,{classname:"add_book",section_name:"Add new book",children:Object(d.jsx)(m,{handleInput:e.handleInput,data:e.data,id:"add_book"})})]})},x=n(2),k=(n(35),function(e){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("main",{children:Object(d.jsxs)("section",{className:"book_detail",children:[Object(d.jsxs)("div",{className:"book_detail_container",children:[Object(d.jsxs)(f,{classname:"book_detail_info",section_name:"Title: ".concat(e.bookToRender.title),children:[Object(d.jsxs)("h3",{children:["Author: ",e.bookToRender.author]}),Object(d.jsxs)("p",{children:["ISBN: ",e.bookToRender.isbn]})]}),Object(d.jsx)("nav",{className:"return_link_container",children:Object(d.jsxs)(i.b,{to:"/",className:"return_link",title:"Go to homepage",children:[Object(d.jsx)("i",{class:"return_link_icon fas fa-chevron-circle-left"}),Object(d.jsx)("p",{className:"return_link_title",children:"Return"})]})})]}),Object(d.jsx)(f,{classname:"update_book",section_name:"Update book info",children:Object(d.jsx)(m,{handleInput:e.handleInput,data:e.data,id:"update_book",dataId:e.bookToRender.id})})]})})})}),p=(n(36),function(e){return Object(d.jsx)("li",{className:"titles_list_item",id:e.book.id,children:Object(d.jsx)(i.b,{className:"titles_list_link",to:"/book-details/".concat(e.book.id),title:"Go to book page",children:e.book.title})},e.book.id)}),_=function(){var e=Object(a.useState)({name:"",first_name:"",last_name:"",isbn:""}),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)([]),s=Object(l.a)(o,2),i=s[0],b=s[1],m=Object(a.useState)({}),f=Object(l.a)(m,2),_=f[0],g=f[1],N=Object(x.f)("/book-details/:id"),I=null!==N?N.params.id:"",T=i.find((function(e){return e.id===parseInt(I)}));Object(a.useEffect)((function(){h.getAllBooks().then((function(e){console.log(e),b(e)}))}),[]),Object(a.useEffect)((function(){void 0!==T&&h.getBookById(T.id).then((function(e){g(e)}))}),[T]);var v=function(e,t){var a=t;"name"===a?c(Object(r.a)(Object(r.a)({},n),{},{name:e})):"first_name"===a?c(Object(r.a)(Object(r.a)({},n),{},{first_name:e})):"last_name"===a?c(Object(r.a)(Object(r.a)({},n),{},{last_name:e})):"isbn"===a&&c(Object(r.a)(Object(r.a)({},n),{},{isbn:e}))};return Object(d.jsx)("div",{className:"page",children:Object(d.jsxs)(x.c,{children:[Object(d.jsxs)(x.a,{exact:!0,path:"/",children:[Object(d.jsx)(u,{}),Object(d.jsx)(O,{handleInput:v,renderBooksList:function(){return i.map((function(e){return Object(d.jsx)(p,{book:e})}))},data:n}),Object(d.jsx)(j,{})]}),Object(d.jsxs)(x.a,{path:"/book-details/:id",children:[Object(d.jsx)(u,{}),Object(d.jsx)(k,{bookToRender:_,handleInput:v,data:n}),Object(d.jsx)(j,{})]})]})})};s.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(i.a,{children:Object(d.jsx)(_,{})})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.91f54d9c.chunk.js.map